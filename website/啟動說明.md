# 電梯監控系統啟動指南

## 快速啟動

### 方法1：使用互動式啟動腳本（推薦）
雙擊 `start_elevator.bat` 檔案，根據提示選擇啟動模式：
- 選項1：本機模式（僅本機訪問）
- 選項2：區域網路模式（可外網訪問）
- 選項3：自訂埠號模式

### 方法2：快速啟動（外網模式）
雙擊 `start_quick.bat` 檔案，直接以外網模式啟動

### 方法3：手動啟動
```cmd
cd C:\Users\raymo\Documents\123\website
python elevator_app.py
```

## 外網訪問設置

### 1. 路由器設置（必須）
- 登入您的路由器管理界面
- 找到「埠轉發」或「虛擬伺服器」設置
- 新增規則：
  - 外部埠：5000（或您自訂的埠號）
  - 內部埠：5000
  - 內部IP：您電腦的IP地址
  - 協議：TCP

### 2. 防火牆設置
- Windows防火牆：允許Python或特定埠號的入站連線
- 第三方防火牆：同樣需要允許相應埠號

### 3. 獲取外網IP
- 訪問 http://whatismyipaddress.com/ 獲取您的公網IP
- 外網訪問地址：http://[您的公網IP]:5000

## 系統配置

### 環境變數配置
可以通過以下方式配置系統：

1. **修改 .env 檔案**：編輯 `.env` 檔案設置預設值
2. **設置環境變數**：
   ```cmd
   set FLASK_HOST=0.0.0.0
   set FLASK_PORT=8080
   python elevator_app.py
   ```

### 可用配置選項
- `FLASK_HOST`: 伺服器綁定地址
  - `127.0.0.1`: 僅本機訪問
  - `0.0.0.0`: 允許所有IP訪問（用於外網）
- `FLASK_PORT`: 伺服器埠號（預設：5000）

## 安全注意事項

1. **生產環境建議**：
   - 使用強密碼
   - 設置HTTPS
   - 使用nginx或apache作為反向代理
   - 定期更新系統

2. **網路安全**：
   - 確保只開放必要的埠號
   - 考慮使用VPN或其他安全連線方式
   - 監控訪問日誌

## 故障排除

### 常見問題
1. **無法訪問**：檢查防火牆和路由器設置
2. **CUDA錯誤**：確認NVIDIA驅動和PyTorch版本
3. **埠號衝突**：更改埠號或關閉衝突的程序

### 日誌查看
系統會在終端顯示詳細的運行日誌，包括：
- 請求記錄
- 檢測結果
- 錯誤資訊

## 聯絡支援
如有問題，請檢查終端輸出的錯誤訊息，並提供完整的錯誤日誌。
